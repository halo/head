@use "iglu/responsive"
@use "head/settings/colors"

.c-head-wing
  display: none
  // 320px is the min screen width we support.
  // On devices that are that narrow, the sidebar needs to fit in,
  // as well as a blank area on the right to close the sidebar with a tap.
  // So the sidebar is limited to less than 320px on narrow devices.
  max-width: 265px
  height: 100%
  z-index: 1000
  position: absolute
  background: colors.$granite-gray
  color: colors.$white

  &--left
    // On rather large screens, always show the main menu in left sidebar
    +responsive.xlarge-container
      position: static
      // On wide screens, it's ok to have a wider sidebar to fit all text.
      max-width: 350px

      &[data-identifier="mainmenu"]
        // We "force" this item to be active without having the `is-active` class.
        display: block
        // So we need some way to deactivate it again using JS.
        &.is-force-deactive
          display: none

  &--right
    right: 0
    position: inherit

    // On very very large screens, show notifications sidebar on the right.
    +responsive.xxlarge-container
      position: static

      &[data-identifier="notifications"]
        display: block

        &.is-force-deactive
          display: none

  &.is-active
    display: block


  &__curtain
    position: absolute
    top: 0
    left: 100%
    width: 100vw
    height: 100%
    z-index: 1001

    &--right
      right: 100%
      left: inherit

    +responsive.xlarge-container
      display: none


// +responsive.xxlarge
//   .c-head-wing

//     // We "force" this item to be active without having the `is-active` class.
//     &[data-identifier="mainmenu"]
//       display: block

//       // So we need some way to deactivate it again using JS.
//       &.is-force-deactive
//         display: none
